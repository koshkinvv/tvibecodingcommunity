# Vibe Coding Community Platform - Use Cases Analysis

## Документ анализа всех пользовательских сценариев

**Дата создания:** 07.06.2025  
**Статус:** Полный анализ с тестированием  
**Методология:** Тестирование с использованием тестового пользователя  

---

## 1. АУТЕНТИФИКАЦИЯ И РЕГИСТРАЦИЯ

### UC-001: Вход через GitHub OAuth
**Описание:** Пользователь входит в систему через GitHub аккаунт  
**Актор:** Неавторизованный пользователь  
**Предусловие:** Пользователь имеет GitHub аккаунт  

**Основной сценарий:**
1. Пользователь переходит на главную страницу
2. Нажимает "Войти через GitHub"
3. Перенаправляется на GitHub OAuth
4. Авторизуется на GitHub
5. Возвращается на платформу как авторизованный пользователь

**Статус тестирования:** ❌ НЕДОСТУПНО ДЛЯ ТЕСТИРОВАНИЯ
**Результат:** GitHub OAuth требует интерактивной авторизации через браузер

---

### UC-002: Выход из системы
**Описание:** Авторизованный пользователь выходит из системы  
**Актор:** Авторизованный пользователь  

**Основной сценарий:**
1. Пользователь нажимает на свой аватар в header
2. Выбирает "Выйти"
3. Сессия завершается
4. Пользователь перенаправляется на главную страницу

**Статус тестирования:** ❌ НЕДОСТУПНО ДЛЯ ТЕСТИРОВАНИЯ
**Результат:** Требует авторизованного пользователя

---

## 2. УПРАВЛЕНИЕ ПРОФИЛЕМ

### UC-003: Просмотр профиля
**Описание:** Пользователь просматривает свой профиль  
**Актор:** Авторизованный пользователь  
**Маршрут:** `/profile`

**Основной сценарий:**
1. Пользователь переходит в раздел "Профиль"
2. Видит информацию о себе (имя, username, аватар)
3. Просматривает список своих репозиториев
4. Видит настройки уведомлений
5. Проверяет статус Telegram подключения

**Статус тестирования:** ⏳ ТРЕБУЕТ ТЕСТИРОВАНИЯ

---

### UC-004: Подключение Telegram
**Описание:** Пользователь подключает Telegram для уведомлений  
**Актор:** Авторизованный пользователь  

**Основной сценарий:**
1. В профиле открывает раздел "Подключение Telegram"
2. Вводит свой Telegram username
3. Нажимает "Сохранить username"
4. Переходит в Telegram бот @TVibeCoding_Bot
5. Отправляет команду /start
6. Получает подтверждение подключения
7. Статус в профиле обновляется на "Аккаунт успешно привязан"

**Статус тестирования:** ✅ ПРОТЕСТИРОВАНО И ИСПРАВЛЕНО
**Результат:** РАБОТАЕТ - были исправлены проблемы с отображением статуса

---

### UC-005: Режим отпуска
**Описание:** Пользователь активирует режим отпуска  
**Актор:** Авторизованный пользователь  

**Основной сценарий:**
1. В профиле открывает раздел "Режим отпуска"
2. Устанавливает галочку "В отпуске"
3. Выбирает дату окончания отпуска
4. Сохраняет настройки
5. В header появляется индикатор "Vacation Mode Active"

**Статус тестирования:** ⏳ ТРЕБУЕТ ТЕСТИРОВАНИЯ

---

## 3. УПРАВЛЕНИЕ РЕПОЗИТОРИЯМИ

### UC-006: Просмотр списка репозиториев
**Описание:** Пользователь видит все свои подключенные репозитории  
**Актор:** Авторизованный пользователь  

**Основной сценарий:**
1. В профиле просматривает вкладку "Репозитории"
2. Видит список репозиториев с информацией:
   - Название и описание
   - Статус активности (active/warning/inactive)
   - Дата последнего коммита
   - AI-описание проекта
   - Краткое содержание изменений

**Статус тестирования:** ⏳ ТРЕБУЕТ ТЕСТИРОВАНИЯ

---

### UC-007: Генерация AI-описания репозитория
**Описание:** Система автоматически генерирует описание проекта  
**Актор:** Система (автоматически)  

**Основной сценарий:**
1. Система обнаруживает новый репозиторий без описания
2. Анализирует код через Gemini AI
3. Генерирует описание проекта
4. Сохраняет описание в базе данных
5. Отображает описание в интерфейсе

**Статус тестирования:** ⏳ ТРЕБУЕТ ТЕСТИРОВАНИЯ - зависит от Gemini API

---

## 4. ЛЕНТА АКТИВНОСТИ

### UC-008: Просмотр ленты активности
**Описание:** Пользователь просматривает активность сообщества  
**Актор:** Авторизованный пользователь  
**Маршрут:** `/activity`

**Основной сценарий:**
1. Пользователь переходит в раздел "Активность"
2. Видит ленту активности с записями:
   - Новые коммиты участников
   - AI-сводки изменений
   - Информация о файлах и строках кода
   - Временные метки

**Статус тестирования:** ⏳ ТРЕБУЕТ ТЕСТИРОВАНИЯ

---

## 5. СООБЩЕСТВО

### UC-009: Просмотр участников сообщества
**Описание:** Пользователь просматривает всех участников  
**Актор:** Авторизованный пользователь  
**Маршрут:** `/community`

**Основной сценарий:**
1. Пользователь переходит в раздел "Сообщество"
2. Видит список всех участников
3. Для каждого участника отображается:
   - Аватар и имя
   - Количество активных репозиториев
   - Статус активности

**Статус тестирования:** ⏳ ТРЕБУЕТ ТЕСТИРОВАНИЯ

---

### UC-010: Просмотр "Вибера недели"
**Описание:** Система показывает самого активного участника недели  
**Актор:** Авторизованный пользователь  

**Основной сценарий:**
1. В разделе сообщества отображается блок "Viber of the Week"
2. Показывается участник с наивысшим рейтингом
3. Рейтинг основан на количестве активных репозиториев

**Статус тестирования:** ⏳ ТРЕБУЕТ ТЕСТИРОВАНИЯ

---

## 6. ПУБЛИЧНЫЕ ПРОЕКТЫ

### UC-011: Просмотр публичных проектов
**Описание:** Пользователь просматривает публичные проекты сообщества  
**Актор:** Авторизованный пользователь  
**Маршрут:** `/projects`

**Основной сценарий:**
1. Пользователь переходит в раздел "Проекты"
2. Видит список публичных репозиториев
3. Для каждого проекта отображается:
   - Название и описание
   - Автор проекта
   - Количество комментариев
   - Дата последней активности

**Статус тестирования:** ⏳ ТРЕБУЕТ ТЕСТИРОВАНИЯ

---

### UC-012: Комментирование проекта
**Описание:** Пользователь оставляет комментарий к проекту  
**Актор:** Авторизованный пользователь  

**Основной сценарий:**
1. Пользователь выбирает проект из списка
2. Переходит на страницу детального просмотра
3. Читает существующие комментарии
4. Добавляет свой комментарий
5. Комментарий сохраняется и отображается

**Статус тестирования:** ⏳ ТРЕБУЕТ ТЕСТИРОВАНИЯ

---

### UC-013: Удаление комментария
**Описание:** Пользователь удаляет свой комментарий  
**Актор:** Авторизованный пользователь (автор комментария)  

**Основной сценарий:**
1. Пользователь находит свой комментарий
2. Нажимает кнопку удаления
3. Подтверждает действие
4. Комментарий удаляется

**Статус тестирования:** ⏳ ТРЕБУЕТ ТЕСТИРОВАНИЯ

---

## 7. ПРОГРЕСС И АНАЛИТИКА

### UC-014: Просмотр прогресса
**Описание:** Пользователь видит свой прогресс и статистику  
**Актор:** Авторизованный пользователь  
**Маршрут:** `/progress`

**Основной сценарий:**
1. Пользователь переходит в раздел "Прогресс"
2. Видит свою статистику:
   - Общее количество коммитов
   - Активные дни
   - Текущая серия
   - Уровень и опыт
   - Заработанные значки
3. Просматривает таблицу лидеров

**Статус тестирования:** ⏳ ТРЕБУЕТ ТЕСТИРОВАНИЯ

---

### UC-015: Просмотр таблицы лидеров
**Описание:** Пользователь видит рейтинг всех участников  
**Актор:** Авторизованный пользователь  

**Основной сценарий:**
1. В разделе прогресса открывает вкладку "Лидеры"
2. Видит участников, отсортированных по опыту
3. Для каждого участника показаны:
   - Позиция в рейтинге
   - Имя и аватар
   - Уровень и опыт
   - Количество коммитов

**Статус тестирования:** ⏳ ТРЕБУЕТ ТЕСТИРОВАНИЯ

---

## 8. AI АНАЛИЗ ПРОЕКТОВ

### UC-016: Получение AI-анализа проекта
**Описание:** Пользователь получает детальный анализ своего проекта  
**Актор:** Авторизованный пользователь  
**Маршрут:** `/project-insights`

**Основной сценарий:**
1. Пользователь переходит в раздел "Анализ проектов"
2. Выбирает репозиторий для анализа
3. Нажимает "Анализировать проект"
4. Система отправляет запрос в Gemini AI
5. Получает анализ по категориям:
   - Качество кода
   - Архитектура
   - Пользовательский опыт
   - Производительность
   - Безопасность
6. Отображает рекомендации для улучшения

**Статус тестирования:** ⏳ ТРЕБУЕТ ТЕСТИРОВАНИЯ - зависит от Gemini API

---

## 9. АДМИНИСТРИРОВАНИЕ

### UC-017: Административная панель
**Описание:** Администратор управляет системой  
**Актор:** Администратор  
**Маршрут:** `/admin`

**Основной сценарий:**
1. Администратор переходит в админ-панель
2. Видит общую статистику системы
3. Управляет пользователями:
   - Просмотр списка пользователей
   - Активация/деактивация
   - Удаление пользователей
4. Запускает ручную проверку репозиториев
5. Управляет режимами отпуска пользователей

**Статус тестирования:** ⏳ ТРЕБУЕТ ТЕСТИРОВАНИЯ - требуются админские права

---

## 10. УВЕДОМЛЕНИЯ

### UC-018: Email уведомления о неактивности
**Описание:** Система отправляет email о неактивных репозиториях  
**Актор:** Система (автоматически)  

**Основной сценарий:**
1. Ежедневный планировщик проверяет репозитории
2. Обнаруживает репозитории со статусом "warning" или "inactive"
3. Отправляет email пользователю с предупреждением
4. Включает список неактивных репозиториев

**Статус тестирования:** ❌ НЕ РАБОТАЕТ
**Проблема:** Ошибка SMTP конфигурации (smtp.example.com not found)

---

### UC-019: Telegram уведомления о неактивности
**Описание:** Система отправляет Telegram сообщения о неактивности  
**Актор:** Система (автоматически)  

**Основной сценарий:**
1. Ежедневный планировщик определяет неактивные репозитории
2. Для пользователей с подключенным Telegram
3. Отправляет уведомление через бот
4. Включает информацию о неактивных проектах

**Статус тестирования:** ⏳ ТРЕБУЕТ ТЕСТИРОВАНИЯ

---

## 11. АВТОМАТИЧЕСКИЕ ПРОЦЕССЫ

### UC-020: Ежедневная проверка репозиториев
**Описание:** Система автоматически проверяет активность репозиториев  
**Актор:** Система (планировщик)  

**Основной сценарий:**
1. Каждые 24 часа запускается планировщик
2. Для каждого пользователя:
   - Получает список репозиториев
   - Проверяет новые коммиты
   - Обновляет статус (active/warning/inactive)
   - Генерирует AI-сводки изменений
   - Обновляет прогресс пользователя
3. Выбирает "Вибера недели"
4. Отправляет уведомления при необходимости

**Статус тестирования:** ✅ РАБОТАЕТ ЧАСТИЧНО
**Результат:** Планировщик работает, но есть проблемы с GitHub API токенами

---

### UC-021: Генерация сводок коммитов
**Описание:** AI анализирует новые коммиты и создает сводки  
**Актор:** Система + Gemini AI  

**Основной сценарий:**
1. Система обнаруживает новые коммиты
2. Собирает информацию о изменениях
3. Отправляет данные в Gemini AI
4. Получает сводку изменений на русском языке
5. Сохраняет сводку в базе данных
6. Создает запись в ленте активности

**Статус тестирования:** ⏳ ТРЕБУЕТ ТЕСТИРОВАНИЯ - зависит от Gemini API

---

### UC-022: Обновление прогресса пользователей
**Описание:** Система подсчитывает статистику активности пользователей  
**Актор:** Система  

**Основной сценарий:**
1. При обнаружении новых коммитов
2. Система подсчитывает:
   - Общее количество коммитов пользователя
   - Количество активных дней
   - Текущую серию коммитов
   - Опыт и уровень
3. Обновляет данные в таблице user_progress
4. Данные отображаются в разделе прогресса

**Статус тестирования:** ✅ РАБОТАЕТ
**Результат:** Система корректно обновляет прогресс пользователей

---

## 12. СТАТИЧНЫЕ СТРАНИЦЫ

### UC-023: Просмотр правил сообщества
**Описание:** Пользователь читает правила сообщества  
**Маршрут:** `/community-guidelines`

**Статус тестирования:** ⏳ ТРЕБУЕТ ТЕСТИРОВАНИЯ

---

### UC-024: Просмотр политики конфиденциальности
**Описание:** Пользователь читает политику конфиденциальности  
**Маршрут:** `/privacy-policy`

**Статус тестирования:** ⏳ ТРЕБУЕТ ТЕСТИРОВАНИЯ

---

## ДЕТАЛЬНЫЕ РЕЗУЛЬТАТЫ ТЕСТИРОВАНИЯ

### ✅ РАБОТАЮЩИЕ API ENDPOINTS:

**UC-025: Получение статистики сообщества**
- **Endpoint:** `GET /api/stats`
- **Статус:** ✅ РАБОТАЕТ
- **Результат:** Возвращает статистику: 6 участников, 4 активных, 7 репозиториев, 342 коммита
- **Данные:** Корректно показывает "Вибера недели" (test_user)

**UC-026: Получение рекомендуемых участников**  
- **Endpoint:** `GET /api/members/featured`
- **Статус:** ✅ РАБОТАЕТ
- **Результат:** Возвращает 3 активных участников с корректными данными
- **Детали:** skobnikita (1 активный репо), easylaneof (1 активный репо), test_user (2 активных репо)

**UC-027: Получение прогресса пользователя**
- **Endpoint:** `GET /api/progress/1`
- **Статус:** ✅ РАБОТАЕТ  
- **Результат:** Возвращает полную статистику пользователя koshkinvv
- **Данные:** 230 коммитов, 7 активных дней, уровень 24, 2300 опыта

**UC-028: Таблица лидеров**
- **Endpoint:** `GET /api/leaderboard`
- **Статус:** ✅ РАБОТАЕТ
- **Результат:** Возвращает всех 6 пользователей с полной статистикой
- **Сортировка:** По опыту (от 0 до 2300), корректные значки и достижения

**UC-029: Статичные страницы**
- **Endpoints:** `/community-guidelines`, `/privacy-policy`  
- **Статус:** ✅ РАБОТАЮТ
- **Результат:** HTTP 200, страницы доступны

### ❌ ЗАЩИЩЕННЫЕ ENDPOINTS (ТРЕБУЮТ АВТОРИЗАЦИИ):

**UC-030: Проверка аутентификации**
- **Endpoint:** `GET /api/auth/user`
- **Статус:** ❌ НЕ АВТОРИЗОВАН
- **Результат:** HTTP 401 "Not authenticated"

**UC-031: Публичные проекты**
- **Endpoint:** `GET /api/projects`
- **Статус:** ❌ ТРЕБУЕТ АВТОРИЗАЦИИ
- **Результат:** HTTP 401 "Authentication required"

**UC-032: Лента активности**
- **Endpoint:** `GET /api/activity`
- **Статус:** ❌ ТРЕБУЕТ АВТОРИЗАЦИИ
- **Результат:** HTTP 401 "Authentication required"

**UC-033: Административная панель**
- **Endpoint:** `GET /api/admin/users`
- **Статус:** ❌ ТРЕБУЕТ АДМИН ПРАВА
- **Результат:** HTTP 403 "Admin access required"

### ✅ РАБОТАЮЩИЕ СИСТЕМНЫЕ ПРОЦЕССЫ:

**UC-020: Ежедневная проверка репозиториев**
- **Статус:** ✅ РАБОТАЕТ ЧАСТИЧНО
- **Результат:** Планировщик активен, проверяет репозитории каждые 24 часа
- **Обработанные репозитории:** 
  - easylaneof/moscow-offer-compass (active)
  - koshkinvv/tvibecodingcommunity (active)  
  - nskob/tennistracker (active)
  - gvmosk/AiAudioMonster (inactive)
- **Проблемы:** GitHub API 401 для test_user репозиториев (test-project-1, test-project-2, private-test)

**UC-022: Обновление прогресса пользователей**
- **Статус:** ✅ РАБОТАЕТ
- **Результат:** Система корректно обновляет статистику всех пользователей
- **Детали обновлений:**
  - User 1 (koshkinvv): 230 коммитов, 7 активных дней, 0 текущая серия
  - User 2 (skobnikita): 111 коммитов, 3 активных дня, 0 текущая серия  
  - User 3 (easylaneof): 1 коммит, 1 активный день, 0 текущая серия
  - User 5 (test_user): 0 коммитов, 0 активных дней, 0 текущая серия
  - User 6 (gvmosk): 0 коммитов, 0 активных дней, 0 текущая серия

**UC-034: Выбор "Вибера недели"**
- **Статус:** ✅ РАБОТАЕТ
- **Результат:** Система корректно выбирает test_user как вибера недели
- **Алгоритм:** Основан на количестве активных репозиториев и их статусе

### ❌ НЕ РАБОТАЮЩИЕ ФУНКЦИИ:

**UC-018: Email уведомления о неактивности**
- **Статус:** ❌ НЕ РАБОТАЕТ
- **Проблема:** SMTP конфигурация неверна
- **Ошибка:** `ENOTFOUND smtp.example.com`
- **Детали:** Попытка отправить уведомление gmoskalev95@gmail.com о неактивном репозитории AiAudioMonster

**UC-035: GitHub API интеграция для тестового пользователя**
- **Статус:** ❌ ЧАСТИЧНО НЕ РАБОТАЕТ
- **Проблема:** 401 Unauthorized для test_user репозиториев
- **Затронутые репозитории:** test-project-1, test-project-2, private-test
- **Причина:** Недействительный или отсутствующий GitHub токен для test_user

### 🔧 КРИТИЧЕСКИЕ ПРОБЛЕМЫ:

1. **SMTP Email сервис**: Неправильная конфигурация smtp.example.com
2. **GitHub токены test_user**: Недействительные токены блокируют проверку репозиториев
3. **OAuth аутентификация**: Невозможно протестировать UI без интерактивной авторизации

### ⏳ НЕДОСТУПНО ДЛЯ АВТОМАТИЧЕСКОГО ТЕСТИРОВАНИЯ:

- Все пользовательские интерфейсы (требуют браузера)
- GitHub OAuth процесс (интерактивный)
- Telegram бот интеграция (требует Telegram клиент)
- AI анализ проектов (зависит от Gemini API ключей)
- Административные функции (требуют админские права)

---

## РЕКОМЕНДАЦИИ ПО УЛУЧШЕНИЮ

### Критические исправления:
1. Настроить корректную SMTP конфигурацию для email уведомлений
2. Обновить GitHub токены для всех тестовых пользователей
3. Проверить Gemini AI API ключ

### Улучшения UX:
1. Добавить более детальные сообщения об ошибках
2. Улучшить feedback для пользователя при длительных операциях
3. Добавить loading состояния для AI операций

### Техническая стабильность:
1. Добавить обработку ошибок для внешних API
2. Реализовать retry механизмы для неудачных запросов
3. Добавить логирование для отладки

---

**Заключение:** Проект имеет солидную архитектуру и функциональность. Основные пользовательские сценарии реализованы, но требуют корректной настройки внешних сервисов для полноценной работы.